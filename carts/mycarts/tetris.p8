version 41
__lua__
-- init/update/draw
function _init()
 tetrotypes = {"o","l","j","s","z","t","i"}
	tetro = newtetro(rnd(tetrotypes))
end

function _update()
	if btnp(5) then
		tetro = newtetro(rnd(tetrotypes))
	end
end

function _draw()
	cls()
	print(tetro.shape)
	tetrodraw()
end



-->8
-- newtetro
function newtetro(tt)
 colours = {6,7}
	if tt=="i" then colours = {2,8} end
	if tt=="o" then colours = {9,10} end
	if tt=="t" then colours = {3,11} end
	return {shape=tt,col=colours,x=60,y=60}
end
-->8
-- tetromino layout
function tetrodraw()
	pal(6,tetro.col[1]);pal(7,tetro.col[2])
	if tetro.shape=="i" then
		for i=0,3 do
			spr(1,tetro.x,tetro.y+i*8)
		end
	end
	
	if tetro.shape== "o" then
		for i=0,1 do
			spr(1,tetro.x+i*8,tetro.y)
			spr(1,tetro.x+i*8,tetro.y+8)
		end
	end
	
	if tetro.shape== "t" then
		for i=0,2 do
			spr(1,tetro.x+i*8,tetro.y)
		end
		spr(1,tetro.x+8,tetro.y+8)
	end
	pal()
end
__gfx__
00000000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700676666760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000676666760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000676666760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700676666760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000001000000030400000507000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000161611121212131414151517000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000060601010203030004050007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
